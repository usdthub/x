<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BNB Mining Platform</title>
<style>
    :root {
        --success-color: #28a745;
        --danger-color: #dc3545;
        --mining-active: #ffc107;
    }
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #121212;
        color: #fff;
    }
    .container {
        max-width: 1200px;
        margin: auto;
        padding: 20px;
    }
    .balance-card, .mining-section, .redeem-card, .withdraw-card, .vip-card {
        background: #1e1e1e;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
    }
    .nav-item {
        display: inline-block;
        padding: 10px 20px;
        cursor: pointer;
    }
    .nav-item.active {
        background: #ffc107;
        color: #000;
        border-radius: 5px;
    }
    #startMiningBtn.active {
        background: #28a745;
        color: #fff;
    }
    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        z-index: 3000;
        max-width: 300px;
        animation: slideInRight 0.5s ease;
    }
    .notification.error {
        background: var(--danger-color);
    }
    .notification.success {
        background: var(--success-color);
    }
    #paymentModal, #verificationSection {
        display: none;
        position: fixed;
        top: 0; left:0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.8);
        justify-content: center;
        align-items: center;
        z-index: 2000;
    }
    .modal-content {
        background: #1e1e1e;
        padding: 20px;
        border-radius: 10px;
        width: 400px;
    }
    .floating-coin {
        position: fixed;
        font-size: 20px;
        opacity: 0;
        animation: floatCoin 2s ease-in forwards;
        pointer-events: none;
    }
    @keyframes floatCoin {
        0% { transform: translateY(0); opacity: 1; }
        100% { transform: translateY(-150px); opacity: 0; }
    }
    .mining-circle, .mining-core, .mining-particle {
        position: relative;
    }
    .mining-circle.active, .mining-core.active {
        animation: rotate 2s linear infinite;
    }
    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
</head>
<body>
<div class="container">
    <div class="balance-card">
        <h2>User Dashboard</h2>
        <p>Balance: <span id="userBalance">0.00 USDT</span></p>
        <p>Today Earnings: <span id="todayEarnings">0.00 USDT</span></p>
        <p>Total Earned: <span id="totalEarned">0.00 USDT</span></p>
        <p>User ID: <span id="userId">USR000000</span></p>
        <p>Status: <span id="userStatus">Free User</span></p>
        <p>Mining Speed: <span id="currentSpeed">0.5 BNB/H</span></p>
    </div>

    <div class="mining-section">
        <h3>Mining</h3>
        <button id="startMiningBtn"><i class="fas fa-play"></i> Start Mining</button>
        <div class="mining-circle">⛏️</div>
        <div class="mining-core"></div>
        <div id="miningStatus">Mining Inactive</div>
    </div>

    <div class="redeem-card">
        <h3>Redeem VIP Code</h3>
        <input type="text" id="redeemCodeInput" placeholder="Enter VIP Code">
        <button id="redeemCodeBtn">Redeem</button>
        <div id="redeemCodesList"></div>
    </div>

    <div class="vip-card">
        <h3>Buy VIP</h3>
        <button class="buy-vip" data-tier="vip1" data-price="10">Buy VIP1 - 10 USDT</button>
        <button class="buy-vip" data-tier="vip2" data-price="60">Buy VIP2 - 60 USDT</button>
    </div>
</div>

<div id="paymentModal">
    <div class="modal-content">
        <h3 id="paymentTitle">Payment</h3>
        <div id="chainOptionsContainer">
            <button class="chain-option" data-chain="bnb">BNB</button>
            <button class="chain-option" data-chain="trx">TRX</button>
            <button class="chain-option" data-chain="sol">SOL</button>
        </div>
        <div id="addressDisplay"></div>
        <button id="copyAddressBtn" disabled>Copy Address</button>
        <button id="confirmPaymentBtn">Confirm Payment</button>
        <button id="closePaymentBtn">Close</button>
    </div>
</div>

<div id="verificationSection">
    <div class="modal-content">
        <h3>Payment Verification</h3>
        <input type="text" id="telegramUsername" placeholder="Telegram Username">
        <div id="fileUploadArea">Click to upload screenshot</div>
        <input type="file" id="screenshotUpload" style="display:none;">
        <div id="filePreview"></div>
        <button id="submitVerificationBtn">Submit Verification</button>
    </div>
</div>

<script>
const navItems = document.querySelectorAll('.nav-item');
const startMiningBtn = document.getElementById('startMiningBtn');
const buyVipBtns = document.querySelectorAll('.buy-vip');
const paymentModal = document.getElementById('paymentModal');
const closePaymentBtn = document.getElementById('closePaymentBtn');
const chainOptions = document.querySelectorAll('.chain-option');
const copyAddressBtn = document.getElementById('copyAddressBtn');
const confirmPaymentBtn = document.getElementById('confirmPaymentBtn');
const redeemCodeBtn = document.getElementById('redeemCodeBtn');
const submitVerificationBtn = document.getElementById('submitVerificationBtn');
const fileUploadArea = document.getElementById('fileUploadArea');
const screenshotUpload = document.getElementById('screenshotUpload');
const redeemCodesList = document.getElementById('redeemCodesList');
const miningCircle = document.querySelector('.mining-circle');
const miningCore = document.querySelector('.mining-core');
const miningStatusText = document.getElementById('miningStatus');

let userData = {
    balance: 0.00,
    todayEarnings: 0.00,
    totalEarned: 0.00,
    userStatus: 'free',
    dailyEarning: 0.10,
    userId: 'USR738225',
    miningActive: false,
    miningStartTime: null,
    totalMiningTime: 0,
    totalMined: 0.0000,
    currentSpeed: 0.5,
    withdrawalHistory: []
};

// 10 new demo VIP codes 10 USDT each
let vipCodes = [
    { code: 'VIP10A1', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A2', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A3', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A4', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A5', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A6', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A7', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A8', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A9', used: false, value: 10, type: 'vip2' },
    { code: 'VIP10A10', used: false, value: 10, type: 'vip2' }
];

// Demo wallet addresses
const walletAddresses = {
    bnb: '0xDEMOADDRESSBNB00000000000000000000000000',
    trx: 'TDEMOTRXADDRESS0000000000000000000',
    sol: 'DEMOADDRESSSOL000000000000000000000000000000000000'
};

// Demo Telegram API
const telegramBotToken = '123456:DEMO_TOKEN';
const telegramChatId = '123456789';

let miningInterval;
let statsInterval;

document.addEventListener('DOMContentLoaded', function() {
    updateUI();
    setupEventListeners();
    startStatsTimer();
    loadRedeemCodes();
});

function setupEventListeners() {
    if (startMiningBtn) startMiningBtn.addEventListener('click', handleMiningToggle);
    if (buyVipBtns.length > 0) buyVipBtns.forEach(btn => btn.addEventListener('click', handleVipPurchase));
    if (closePaymentBtn) closePaymentBtn.addEventListener('click', closePaymentModal);
    if (chainOptions.length > 0) chainOptions.forEach(opt => opt.addEventListener('click', handleChainSelection));
    if (copyAddressBtn) copyAddressBtn.addEventListener('click', handleCopyAddress);
    if (confirmPaymentBtn) confirmPaymentBtn.addEventListener('click', handleConfirmPayment);
    if (redeemCodeBtn) redeemCodeBtn.addEventListener('click', handleRedeemCode);
    if (submitVerificationBtn) submitVerificationBtn.addEventListener('click', handleVerificationSubmission);
    if (fileUploadArea && screenshotUpload) {
        fileUploadArea.addEventListener('click', () => screenshotUpload.click());
        screenshotUpload.addEventListener('change', handleFileUpload);
    }
}

function updateUI() {
    document.getElementById('userBalance').textContent = userData.balance.toFixed(2)+' USDT';
    document.getElementById('todayEarnings').textContent = userData.todayEarnings.toFixed(2)+' USDT';
    document.getElementById('totalEarned').textContent = userData.totalEarned.toFixed(2)+' USDT';
    document.getElementById('userId').textContent = userData.userId;
    const statusElement = document.getElementById('userStatus');
    statusElement.textContent = userData.userStatus === 'vip' ? 'VIP User' : 'Free User';
    userData.currentSpeed = userData.userStatus==='vip'?15.0:0.5;
    document.getElementById('currentSpeed').textContent = userData.currentSpeed+' BNB/H';
}

function handleMiningToggle() {
    if(userData.miningActive){ stopMining(); } else { startMining(); }
}

function startMining() {
    userData.miningActive = true;
    userData.miningStartTime = Date.now();
    startMiningBtn.innerHTML = '<i class="fas fa-stop"></i> Stop Mining';
    startMiningBtn.classList.add('active');
    startMiningVisuals();
    miningInterval = setInterval(() => {
        const minedAmount = userData.currentSpeed/3600;
        userData.totalMined += minedAmount;
        userData.balance += minedAmount;
        userData.totalEarned += minedAmount;
        updateUI();
    },1000);
    showNotification('Mining started!','success');
}

function stopMining() {
    userData.miningActive=false;
    startMiningBtn.innerHTML='<i class="fas fa-play"></i> Start Mining';
    startMiningBtn.classList.remove('active');
    stopMiningVisuals();
    clearInterval(miningInterval);
    showNotification('Mining stopped!','success');
}

function startMiningVisuals() {
    miningCircle.classList.add('active');
    miningCore.classList.add('active');
    miningStatusText.textContent='Mining Active';
}

function stopMiningVisuals() {
    miningCircle.classList.remove('active');
    miningCore.classList.remove('active');
    miningStatusText.textContent='Mining Inactive';
}

function handleVipPurchase(event){
    const tier = event.currentTarget.getAttribute('data-tier');
    const price = event.currentTarget.getAttribute('data-price');
    document.getElementById('paymentTitle').textContent=`Buy ${tier.toUpperCase()} - ${price} USDT`;
    paymentModal.style.display='flex';
    document.body.style.overflow='hidden';
}

function handleChainSelection(event){
    chainOptions.forEach(opt=>opt.classList.remove('active'));
    event.currentTarget.classList.add('active');
    const chain = event.currentTarget.getAttribute('data-chain');
    document.getElementById('addressDisplay').innerHTML=`<strong>${chain.toUpperCase()} Address:</strong> ${walletAddresses[chain]}`;
    copyAddressBtn.disabled=false;
}

function handleCopyAddress(){
    const addressText = document.getElementById('addressDisplay').textContent;
    navigator.clipboard.writeText(addressText).then(()=>showNotification('Address copied!','success'));
}

function handleConfirmPayment(){
    document.getElementById('verificationSection').style.display='block';
    paymentModal.style.display='none';
    document.body.style.overflow='auto';
}

function closePaymentModal(){
    paymentModal.style.display='none';
    document.body.style.overflow='auto';
}

function handleFileUpload(e){
    const file=e.target.files[0];
    if(file && file.type.startsWith('image/')){
        const reader=new FileReader();
        reader.onload=function(e){
            document.getElementById('filePreview').innerHTML=`<img src="${e.target.result}" style="max-width:100%">`;
        };
        reader.readAsDataURL(file);
    }
}

function handleVerificationSubmission(){
    const telegramUsername = document.getElementById('telegramUsername').value.trim();
    const screenshotFile = screenshotUpload.files[0];
    if(!telegramUsername){ showNotification('Enter Telegram username','error'); return;}
    if(!screenshotFile){ showNotification('Upload screenshot','error'); return;}
    userData.userStatus='vip';
    userData.dailyEarning=15.0;
    userData.currentSpeed=15.0;
    updateUI();
    document.getElementById('verificationSection').style.display='none';
    showNotification('VIP activated!','success');
}

function loadRedeemCodes(){
    if(!redeemCodesList) return;
    redeemCodesList.innerHTML='';
    vipCodes.forEach(vc=>{
        const codeElement=document.createElement('div');
        codeElement.className=`vip-code-item ${vc.used?'used':'available'}`;
        codeElement.textContent=vc.code;
        if(!vc.used){
            codeElement.addEventListener('click',()=>{
                document.getElementById('redeemCodeInput').value=vc.code;
                showNotification(`VIP code ${vc.code} ready to redeem!`,'success');
            });
        }
        redeemCodesList.appendChild(codeElement);
    });
}

function handleRedeemCode(){
    const codeInput=document.getElementById('redeemCodeInput').value.trim().toUpperCase();
    if(!codeInput){ showNotification('Enter VIP code','error'); return;}
    const vipCode=vipCodes.find(vc=>vc.code===codeInput);
    if(!vipCode){ showNotification('Invalid code','error'); return;}
    if(vipCode.used){ showNotification('Code already used','error'); return;}
    vipCode.used=true;
    userData.userStatus='vip';
    userData.dailyEarning=15.0;
    userData.currentSpeed=15.0;
    updateUI();
    loadRedeemCodes();
    showNotification(`VIP activated with code ${codeInput}!`,'success');
    document.getElementById('redeemCodeInput').value='';
}

function showNotification(message,type='success'){
    const notification=document.createElement('div');
    notification.className='notification '+(type==='error'?'error':'success');
    notification.textContent=message;
    document.body.appendChild(notification);
    setTimeout(()=>{notification.remove();},3000);
}

function startStatsTimer(){
    statsInterval=setInterval(()=>{
        if(userData.miningActive){ userData.totalMiningTime++; }
    },1000);
}
</script>
</body>
</html>
